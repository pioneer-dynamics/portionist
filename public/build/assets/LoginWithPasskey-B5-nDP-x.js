import{d,T as F,e as v,b as t,u as r,w as n,F as R,o as u,Z as M,t as N,f as g,a,c as b,g as f,j as _,i as C,n as V}from"./app-CsHnCw7V.js";import{A as q}from"./AuthenticationCard-DSqy-kF3.js";import{_ as T}from"./AuthenticationCardLogo-BJeKvahZ.js";import{_ as U}from"./Checkbox-gRtbBb0x.js";import{_ as p}from"./InputError-C6IDAu1i.js";import{_ as P}from"./InputLabel-BhQhZmsA.js";import{_ as L}from"./PrimaryButton-CwlCuMFx.js";import{_ as $}from"./TextInput-DqN27zjY.js";import{_ as z}from"./ConfirmsPasskey-CrCMdjjI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-B0rZE226.js";const E={key:0,class:"mb-4 font-medium text-sm text-green-600 dark:text-green-400"},I={class:"mt-4"},S={class:"block mt-4"},D={class:"flex items-center"},W={class:"flex items-center justify-center mt-4"},re={__name:"LoginWithPasskey",props:{canResetPassword:Boolean,status:String},setup(m){const h=d(!1),o=d(!1),c=d(null),y=d(null),s=F({email:"",password:"",passkey:"",remember:!1}),j=()=>{o.value=!0,c.value.start(s.email)},B=()=>{s.transform(l=>({...l,remember:s.remember?"on":""})).post(route("login"),{onFinish:()=>s.reset("password")})},A=l=>{l||(h.value=!0,setTimeout(()=>{var e;return(e=y.value)==null?void 0:e.focus()},100)),o.value=!1};return(l,e)=>(u(),v(R,null,[t(r(M),{title:"Log in"}),t(q,null,{logo:n(()=>[t(T)]),default:n(()=>{var k,w,x;return[m.status?(u(),v("div",E,N(m.status),1)):g("",!0),a("form",null,[a("div",null,[t(P,{for:"email",value:"Email"}),t($,{id:"email",modelValue:r(s).email,"onUpdate:modelValue":e[0]||(e[0]=i=>r(s).email=i),type:"email",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"]),t(p,{class:"mt-2",message:r(s).errors.email},null,8,["message"]),t(p,{class:"mt-2",message:(x=(w=(k=c.value)==null?void 0:k.passkeyForm)==null?void 0:w.errors)==null?void 0:x.email},null,8,["message"])]),a("div",I,[t(P,{for:"password",value:"Password"}),t($,{id:"password",modelValue:r(s).password,"onUpdate:modelValue":e[1]||(e[1]=i=>r(s).password=i),type:"password",ref_key:"passwordInput",ref:y,class:"mt-1 block w-full",required:"",autocomplete:"current-password"},null,8,["modelValue"]),t(p,{class:"mt-2",message:r(s).errors.password},null,8,["message"])]),a("div",S,[a("label",D,[t(U,{checked:r(s).remember,"onUpdate:checked":e[2]||(e[2]=i=>r(s).remember=i),name:"remember"},null,8,["checked"]),e[3]||(e[3]=a("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},"Remember me",-1))])]),a("div",W,[m.canResetPassword?(u(),b(r(_),{key:0,href:l.route("password.request"),class:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800"},{default:n(()=>e[4]||(e[4]=[f(" Forgot your password? ")])),_:1},8,["href"])):g("",!0),e[6]||(e[6]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400 px-2"},"|",-1)),m.canResetPassword?(u(),b(r(_),{key:1,href:l.route("register"),class:"ml-3 underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800"},{default:n(()=>e[5]||(e[5]=[f(" Register ")])),_:1},8,["href"])):g("",!0)]),t(L,{onClick:C(B,["prevent"]),class:V(["w-full mt-2 justify-center",{"opacity-25":r(s).processing||o.value}]),disabled:r(s).processing||o.value},{default:n(()=>e[7]||(e[7]=[f(" Login ")])),_:1},8,["class","disabled"]),e[9]||(e[9]=a("div",{class:"flex items-center justify-center my-2"},[a("div",{class:"flex-1 border-t border-gray-300"}),a("span",{class:"px-2 text-gray-500"},"or"),a("div",{class:"flex-1 border-t border-gray-300"})],-1)),t(L,{onClick:C(j,["prevent"]),class:V(["w-full justify-center",{"opacity-25":r(s).processing||o.value}]),disabled:r(s).processing||o.value},{default:n(()=>e[8]||(e[8]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4 mr-2"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"})],-1),f(" Login with Passkey ")])),_:1},8,["class","disabled"]),t(z,{email:r(s).email,ref_key:"passkeyConfirmation",ref:c,onCancelled:A,mode:"login",remember:r(s).remember},null,8,["email","remember"])])]}),_:1})],64))}};export{re as default};
