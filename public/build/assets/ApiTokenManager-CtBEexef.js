import{o as r,c as j,w as t,a as s,r as _,d as x,e as u,f as a,t as b,g as L,h as k,T as $,b as l,u as d,F as h,i as C,n as A}from"./app-DqTuN9OH.js";import{_ as N}from"./ActionMessage-CYrJxIjq.js";import{_ as z}from"./ActionSection-oV00YT7o.js";import{_ as P}from"./Checkbox-DOwWpsEX.js";import{_ as Z,a as S}from"./DialogModal-DOamAa49.js";import{_ as U}from"./DangerButton-DorwsfZY.js";import{_ as W}from"./FormSection-C-OBr2RD.js";import{_ as E}from"./InputError-gtZSQTaF.js";import{_ as B}from"./InputLabel-BB9MVfEB.js";import{_ as V}from"./PrimaryButton-Ca5uY6-K.js";import{_ as T}from"./SecondaryButton-Cy5a8Jm0.js";import{S as Y}from"./SectionBorder-B_NRqiq5.js";import{_ as q}from"./TextInput-D8jiIXE6.js";import"./SectionTitle-CfP-eVRo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},J={class:"sm:flex sm:items-start"},K={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},O={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Q={class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},R={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 dark:bg-gray-800 text-end"},X={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(m,{emit:w}){const i=w,p=()=>{i("close")};return(f,c)=>(r(),j(Z,{show:m.show,"max-width":m.maxWidth,closeable:m.closeable,onClose:p},{default:t(()=>[s("div",G,[s("div",J,[c[0]||(c[0]=s("div",{class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[s("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),s("div",K,[s("h3",O,[_(f.$slots,"title")]),s("div",Q,[_(f.$slots,"content")])])])]),s("div",R,[_(f.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},ee={class:"w-full"},se={class:"relative"},te={key:0,id:"default-icon"},oe={key:1,id:"success-icon",class:"inline-flex items-center"},le={__name:"CodeBlock",props:{value:String},setup(m){const w=m,i=x(null),p=x(!1),f=c=>{navigator.clipboard.writeText(c),p.value=!0,setTimeout(()=>p.value=!1,1e3)};return(c,n)=>(r(),u("div",ee,[s("div",se,[n[3]||(n[3]=s("label",{for:"npm-install-copy-button",class:"sr-only"},"Label",-1)),s("code",{ref_key:"text",ref:i,class:"col-span-6 bg-gray-50 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:"",readonly:""},[_(c.$slots,"default",{},()=>[a(b(w.value),1)])],512),s("button",{type:"button",onClick:n[0]||(n[0]=L(v=>f(i.value.innerText),["prevent"])),"data-tooltip-target":"tooltip-copy-npm-install-copy-button",class:"absolute end-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg p-2 inline-flex items-center justify-center"},[p.value?k("",!0):(r(),u("span",te,n[1]||(n[1]=[s("svg",{class:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[s("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})],-1)]))),p.value?(r(),u("span",oe,n[2]||(n[2]=[s("svg",{class:"w-3.5 h-3.5 text-blue-700 dark:text-blue-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})],-1)]))):k("",!0)]),n[4]||(n[4]=s("div",{id:"tooltip-copy-npm-install-copy-button",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[s("span",{id:"default-tooltip-message"},"Copy to clipboard"),s("span",{id:"success-tooltip-message",class:"hidden"},"Copied!"),s("div",{class:"tooltip-arrow","data-popper-arrow":""})],-1))])]))}},ne={class:"col-span-6 sm:col-span-4"},ae={key:0,class:"col-span-6"},re={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ie={class:"flex items-center"},de={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},ue={key:0},me={class:"mt-10 sm:mt-0"},pe={class:"space-y-6"},ce={class:"break-all dark:text-white"},fe={class:"flex items-center ms-2"},ve={key:0,class:"text-sm text-gray-400"},ge=["onClick"],ke=["onClick"],ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"flex items-center"},xe={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},De={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(m){const i=$({name:"",permissions:m.defaultPermissions}),p=$({permissions:[]}),f=$({}),c=x(!1),n=x(null),v=x(null),I=()=>{i.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!0,i.reset()}})},M=g=>{p.permissions=g.abilities,n.value=g},F=()=>{p.put(route("api-tokens.update",n.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>n.value=null})},D=g=>{v.value=g},H=()=>{f.delete(route("api-tokens.destroy",v.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>v.value=null})};return(g,e)=>(r(),u("div",null,[l(W,{onSubmitted:I},{title:t(()=>e[9]||(e[9]=[a(" Create API Token ")])),description:t(()=>e[10]||(e[10]=[a(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:t(()=>[s("div",ne,[l(B,{for:"name",value:"Name"}),l(q,{id:"name",modelValue:d(i).name,"onUpdate:modelValue":e[0]||(e[0]=o=>d(i).name=o),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),l(E,{message:d(i).errors.name,class:"mt-2"},null,8,["message"])]),m.availablePermissions.length>0?(r(),u("div",ae,[l(B,{for:"permissions",value:"Permissions"}),s("div",re,[(r(!0),u(h,null,C(m.availablePermissions,o=>(r(),u("div",{key:o},[s("label",ie,[l(P,{checked:d(i).permissions,"onUpdate:checked":e[1]||(e[1]=y=>d(i).permissions=y),value:o},null,8,["checked","value"]),s("span",de,b(o),1)])]))),128))])])):k("",!0)]),actions:t(()=>[l(N,{on:d(i).recentlySuccessful,class:"me-3"},{default:t(()=>e[11]||(e[11]=[a(" Created. ")])),_:1},8,["on"]),l(V,{class:A({"opacity-25":d(i).processing}),disabled:d(i).processing},{default:t(()=>e[12]||(e[12]=[a(" Create ")])),_:1},8,["class","disabled"])]),_:1}),m.tokens.length>0?(r(),u("div",ue,[l(Y),s("div",me,[l(z,null,{title:t(()=>e[13]||(e[13]=[a(" Manage API Tokens ")])),description:t(()=>e[14]||(e[14]=[a(" You may delete any of your existing tokens if they are no longer needed. ")])),content:t(()=>[s("div",pe,[(r(!0),u(h,null,C(m.tokens,o=>(r(),u("div",{key:o.id,class:"flex items-center justify-between"},[s("div",ce,b(o.name),1),s("div",fe,[o.last_used_ago?(r(),u("div",ve," Last used "+b(o.last_used_ago),1)):k("",!0),m.availablePermissions.length>0?(r(),u("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:y=>M(o)}," Permissions ",8,ge)):k("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:y=>D(o)}," Delete ",8,ke)])]))),128))])]),_:1})])])):k("",!0),l(S,{show:c.value,onClose:e[3]||(e[3]=o=>c.value=!1)},{title:t(()=>e[15]||(e[15]=[a(" API Token ")])),content:t(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),g.$page.props.jetstream.flash.token?(r(),j(le,{key:0,class:"mt-4",value:g.$page.props.jetstream.flash.token},null,8,["value"])):k("",!0)]),footer:t(()=>[l(T,{onClick:e[2]||(e[2]=o=>c.value=!1)},{default:t(()=>e[17]||(e[17]=[a(" Close ")])),_:1})]),_:1},8,["show"]),l(S,{show:n.value!=null,onClose:e[6]||(e[6]=o=>n.value=null)},{title:t(()=>e[18]||(e[18]=[a(" API Token Permissions ")])),content:t(()=>[s("div",ye,[(r(!0),u(h,null,C(m.availablePermissions,o=>(r(),u("div",{key:o},[s("label",be,[l(P,{checked:d(p).permissions,"onUpdate:checked":e[4]||(e[4]=y=>d(p).permissions=y),value:o},null,8,["checked","value"]),s("span",xe,b(o),1)])]))),128))])]),footer:t(()=>[l(T,{onClick:e[5]||(e[5]=o=>n.value=null)},{default:t(()=>e[19]||(e[19]=[a(" Cancel ")])),_:1}),l(V,{class:A(["ms-3",{"opacity-25":d(p).processing}]),disabled:d(p).processing,onClick:F},{default:t(()=>e[20]||(e[20]=[a(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["show"]),l(X,{show:v.value!=null,onClose:e[8]||(e[8]=o=>v.value=null)},{title:t(()=>e[21]||(e[21]=[a(" Delete API Token ")])),content:t(()=>e[22]||(e[22]=[a(" Are you sure you would like to delete this API token? ")])),footer:t(()=>[l(T,{onClick:e[7]||(e[7]=o=>v.value=null)},{default:t(()=>e[23]||(e[23]=[a(" Cancel ")])),_:1}),l(U,{class:A(["ms-3",{"opacity-25":d(f).processing}]),disabled:d(f).processing,onClick:H},{default:t(()=>e[24]||(e[24]=[a(" Delete ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{De as default};
